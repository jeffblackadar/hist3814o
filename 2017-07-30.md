# Module 3

## Some other discovery / research 


## Exercise 1

Registered for a dhbox on dhbox.org 

** Thank you DHBox.org! It is very kind of you to be open to students like me **

Performed

           $ curl http://archive.org/stream/diplomaticcorre33statgoog/diplomaticcorre33statgoog_djvu.txt > texas.txt
           
I reviewed the contents of text.txt

Shout out tp ascii art!:

          <!-- __ _ _ _ __| |_ (_)__ _____
              / _` | '_/ _| ' \| |\ V / -_)
              \__,_|_| \__|_||_|_| \_/\___| -->
              
More to the point I see content like:
  
          David G. Burnet to Richard G. Dunlap, August 19, 1839 54

Edited texas.txt.  Used CTRL+SHIFT+(caret) to mark text to delete, paged down and deleted it with CTRL+K.  Saved file as texas2.txt

Performed:  $grep '\bto\b' texas.txt

Results: (last 2 lines)

Wm. Henry Daingerfield to R. Sieveking, October 1, 1845 1582 
Wm. Henry Daingerfield to Ebenezer Allen, February 2, 1846 1582 

Made a back up of my own raw file:

$ cp texas2.txt texasbak.txt

I want to operate on texas3.txt

$ cp texas2.txt texas3.txt

I tried this:

$ sed -r -i.bak 's/(.+\bto\b.+)/~(.+\bto\b.+)/g' texas3.txt

Fail, and got this:

~(.+btob.+)

RESET:

$ cp texas2.txt texas3.txt

$ sed -r -i.bak 's/(.+\bto\b.+)/~\1/g' texas3.txt

Got the expected result:

      ~Anson Jones to Charles H. Raymond, October 24, 1844 316

      ~Charles H. Raymond to Anson Jones, November 27, 1844 317

and I have the backup sed made too:

texas2.txt  texas3.txt  **texas3.txt.bak**  texasbak.txt  texas.txt

Made a copy to work on the next step, texas4.txt

$ cp texas3.txt texas4.txt

$ grep '~' texas4.txt > index.txt

$ nano index.txt

I got the expected result, only the lines with a tilde were piped to index.txt

      ~Samuel A. Roberta to Joseph Eve, August 11, 1841 94
      ~Samuel A. Roberta to Joseph Eve, August 17, 1841 94
      ~Samuel A. Roberts to Barnard E. Bee, September 7, 1841 96
      ~Sam Houston to Joseph Eve, July 30, 1842 100
      ~Sam Houston to A. B. Roman, September 12, 1842 101
      
Make another copy

$ cp index.txt index2.txt

$ grep '[0-9]{4}' index2.txt

Nothing

This one did not return results for me:  grep '[0-9]{4}' index.txt    This one did:  grep '[0-2][0-9][0-9][0-9]' index.txt

However, sed worked.

$ sed -r -i.bak 's/(,)( [0-9]{4})(.+)/\2/g' index3.txt

Result:  ~Sam Houston to A. B. Roman, September 12 1842

### Step 4

Performed

$ sed -r -i.bak 's/(~)(.+)/\2/g' index4.txt

Result:  Sam Houston to A. B. Roman, September 12 1842  (~ is gone)

### Step 5

sed -r -i.bak 's/(.+)( to\b)(.+)/\1,\3/g' index5.txt

Result: Sam Houston, A. B. Roman, September 12 1842

I had some problems with this grep  .+,.+,.+

78  nano index5.txt
   79  grep '.+,.+,.+' index5.txt
   80  grep '.+,' index5.txt
   81  grep ',' index5.txt
   82  grep '/.+,.+,.+\w+/g' index5.txt
   83  grep '.+,.+,.+\w' index5.txt
   84  grep '.+,.+,.+' index5.txt
   85  grep '(.+,.+,.+)' index5.txt
   86  grep '(.+)(,)' index5.txt
   87  grep '(,)' index5.txt
   88  grep ',' index5.txt
   89  grep '\(,\)' index5.txt
   90  grep '\.\+\(,\)' index5.txt
   91  grep '.+\(,\)' index5.txt
   92  grep '.\+\(,\)' index5.txt
   93  grep '\.\+\(,\)' index5.txt
   94  grep '.\+\,' index5.txt
   95  grep '.\+,\+,' index5.txt
   96  grep '.\+\,\+,' index5.txt
   97  grep '.\+\,\+\,' index5.txt
   98  grep '.\+\(,\)\+\,' index5.txt
   99  grep '.\+\(,\)' index5.txt
  100  grep '.\+\(\,\)' index5.txt
  101  grep '.\+\(\,\).\+' index5.txt
  102  grep '.\+\(\,\).\+\(\,\)' index5.txt
  103  grep '.\+\(\,\).\+\(\,\).\+\' index5.txt
  104  grep '.\+\(\,\).\+\(\,\).\+' index5.txt
  105  nano index5.txt
  106  grep '.\+\(\,\).\+\(\,\).\+' index5.txt
  107  nano index5.txt
  108  grep '.\+\(\,\).\+\(\,\).\+' index5.txt
  109  grep '.\+\(\,\).\+\(\,\)\.\+' index5.txt
  110  grep '.\+\(\,\)\.\+\(\,\)\.\+' index5.txt
  111  grep '\.\+\(\,\)\.\+\(\,\)\.\+' index5.txt
  112  grep '.\+\(\,\).\+\(\,\).\+' index5.txt
  113  grep '.+\(\,\).\+\(\,\).\+' index5.txt
  114  grep '.\+\(\,\).\+\(\,\).\+' index5.txt
  115  grep '.\+\,.\+\,.\+' index5.txt
  116  grep '.\+,.\+,.\+' index5.txt
  117  grep '.+,.+,.+' index5.txt
  118  grep '.\+,.\+,.\+' index5.txt
